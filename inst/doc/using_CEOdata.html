<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Xavier Fernández-i-Marín" />


<title>Using the CEOdata package</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using the CEOdata package</h1>
<h4 class="author">Xavier Fernández-i-Marín</h4>
<h4 class="date">06/07/2023 - Version 1.3.1.1</h4>



<p>CEOdata is a package that facilitates the incorporation of microdata
(individual responses) of public opinion polls in Catalonia into
<code>R</code>, as performed by the “Centre d’Estudis d’Opinió” (CEO,
Opinion Studies Center). It has basically three main functions with a
separate purpose:</p>
<ul>
<li><strong><code>CEOdata()</code></strong>: that provides the
<em>data</em> of the surveys directly into <code>R</code>.</li>
<li><strong><code>CEOmeta()</code></strong>: that allows the user to
inspect the details of the available surveys (<em>metadata</em>) and to
search for specific topics and get the survey details.</li>
<li><strong><code>CEOsearch()</code></strong>: that allows the user to
search for variables, variable labels and value labels within a survey
data gathered using the <code>CEOdata()</code> function.</li>
</ul>
<div id="ceodata-get-the-survey-data" class="section level1">
<h1><code>CEOdata()</code>: Get the survey data</h1>
<p>The most comprehensive kind of data on Catalan public opinion is the
“Barometer”, that can be retrieved by default by the main function
<code>CEOdata()</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(CEOdata)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">CEOdata</span>()</span></code></pre></div>
<p>This provides a cleaned and merged version of all the available
Barometers, since 2017, providing easy access to the following number of
responses and variables:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">dim</span>(d)</span></code></pre></div>
<pre><code>## [1] 43838  1231</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>d</span></code></pre></div>
<pre><code>## # A tibble: 43,838 × 1,231
##    PONDERA ORDRECINE ORDRE_REVISADA   REO METODOLOGIA BOP_NUM    ANY   MES   DIA
##      &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1    1.86         1             NA   746 &lt;NA&gt;        Març 14…  2014     3    27
##  2    1.86         2             NA   746 &lt;NA&gt;        Març 14…  2014     3     5
##  3    1.86         3             NA   746 &lt;NA&gt;        Març 14…  2014     3    11
##  4    1.86         4             NA   746 &lt;NA&gt;        Març 14…  2014     3    11
##  5    1.86         5             NA   746 &lt;NA&gt;        Març 14…  2014     3    27
##  6    1.86         6             NA   746 &lt;NA&gt;        Març 14…  2014     3    28
##  7    1.86         7             NA   746 &lt;NA&gt;        Març 14…  2014     3     3
##  8    1.86         9             NA   746 &lt;NA&gt;        Març 14…  2014     3     7
##  9    1.86         8             NA   746 &lt;NA&gt;        Març 14…  2014     3    25
## 10    1.86        10             NA   746 &lt;NA&gt;        Març 14…  2014     3    27
## # ℹ 43,828 more rows
## # ℹ 1,222 more variables: HORA_INI &lt;time&gt;, HORA_FIN &lt;time&gt;, DATA_INI &lt;date&gt;,
## #   DATA_FIN &lt;date&gt;, DURADA &lt;dbl&gt;, FASE &lt;fct&gt;, ENQUESTADOR_CODI &lt;dbl&gt;,
## #   ENQUESTADOR_SEXE &lt;fct&gt;, ENQUESTADOR_EDAT &lt;dbl&gt;, ENQUESTADOR_ESTUDIS &lt;fct&gt;,
## #   ENQUESTADOR_NACIONALITAT &lt;fct&gt;, NUM_QUEST_CAMP &lt;dbl&gt;, PROVINCIA &lt;fct&gt;,
## #   HABITAT &lt;fct&gt;, MUNICIPI &lt;fct&gt;, COMARCA &lt;fct&gt;, CLUSTER_21 &lt;dbl&gt;,
## #   ID_RUTA &lt;dbl&gt;, SECCIO_TEORICA &lt;dbl&gt;, CONF_SECC &lt;fct&gt;, SECCIO_REAL &lt;dbl&gt;, …</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">names</span>(d)[<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;PONDERA&quot;                  &quot;ORDRECINE&quot;               
##  [3] &quot;ORDRE_REVISADA&quot;           &quot;REO&quot;                     
##  [5] &quot;METODOLOGIA&quot;              &quot;BOP_NUM&quot;                 
##  [7] &quot;ANY&quot;                      &quot;MES&quot;                     
##  [9] &quot;DIA&quot;                      &quot;HORA_INI&quot;                
## [11] &quot;HORA_FIN&quot;                 &quot;DATA_INI&quot;                
## [13] &quot;DATA_FIN&quot;                 &quot;DURADA&quot;                  
## [15] &quot;FASE&quot;                     &quot;ENQUESTADOR_CODI&quot;        
## [17] &quot;ENQUESTADOR_SEXE&quot;         &quot;ENQUESTADOR_EDAT&quot;        
## [19] &quot;ENQUESTADOR_ESTUDIS&quot;      &quot;ENQUESTADOR_NACIONALITAT&quot;
## [21] &quot;NUM_QUEST_CAMP&quot;           &quot;PROVINCIA&quot;               
## [23] &quot;HABITAT&quot;                  &quot;MUNICIPI&quot;                
## [25] &quot;COMARCA&quot;                  &quot;CLUSTER_21&quot;              
## [27] &quot;ID_RUTA&quot;                  &quot;SECCIO_TEORICA&quot;          
## [29] &quot;CONF_SECC&quot;                &quot;SECCIO_REAL&quot;             
## [31] &quot;DOMICILI_PARTICULAR&quot;      &quot;LLENGUA_ENQUESTA&quot;        
## [33] &quot;PADRO&quot;                    &quot;RESIDENCIA&quot;              
## [35] &quot;LLENGUA_SISTEMA&quot;          &quot;CIUTADANIA&quot;              
## [37] &quot;GENERE&quot;                   &quot;GENERE_LITERALS&quot;         
## [39] &quot;SEXE&quot;                     &quot;EDAT&quot;                    
## [41] &quot;EDAT_GR&quot;                  &quot;EDAT_CEO&quot;                
## [43] &quot;LLOC_NAIX&quot;                &quot;HORA_PRIMERA_PREGUNTA&quot;   
## [45] &quot;GRAVACIO&quot;                 &quot;TIPUS_GRAV&quot;              
## [47] &quot;PRE_PROBLEMES&quot;            &quot;PROBLEMES_LITERALS&quot;      
## [49] &quot;PROBLEMES_R_1&quot;            &quot;PROBLEMES_R_2&quot;</code></pre>
<p>But default <code>CEOdata()</code> transforms the gathered data into
pure-R format (labelled SPSS variables are converted into factors). If
you want to use <code>haven_labelled</code> variables as provided by the
raw SPSS files available, you can use the argument
<code>raw = TRUE</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>d.raw <span class="ot">&lt;-</span> <span class="fu">CEOdata</span>(<span class="at">raw =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div id="specific-studies-or-time-frames" class="section level2">
<h2>Specific studies or time frames</h2>
<p><code>CEOdata()</code> allows you to select specific Barometers, by
providing their internal register in the <code>reo</code> argument. The
reo is the internal name that the CEO uses, and stands for “Registre
d’Estudis d’Opinió” (register of opinion studies), and is the main
identifier of the survey, also present in the table of meta data.
Although many of them are numbers, some have a number, a slash and
another number, and therefore a character vector must be passed. Only a
single REO can be passed, as it is not guaranteed that different data
matrices share any column, and may refer to very different topics.</p>
<p>For instance, to get only the data of the study with register “746”
(corresponding to March 2013):</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>d746 <span class="ot">&lt;-</span> <span class="fu">CEOdata</span>(<span class="at">reo =</span> <span class="st">&quot;746&quot;</span>)</span></code></pre></div>
<pre><code>## Converting the original data into R. This may take a while.</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>d746</span></code></pre></div>
<pre><code>## # A tibble: 2,000 × 475
##      NUM NUM_CINE BOP_NUM    MES   ANY   DIA CODI_ENQ HOR_INI HOR_FIN DURADA
##    &lt;dbl&gt;    &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;time&gt;  &lt;time&gt;   &lt;dbl&gt;
##  1    NA        1 Març. 14     4    14    NA G3          NA      NA     1203
##  2    NA        2 Març. 14     4    14    NA T4          NA      NA      997
##  3    NA        3 Març. 14     4    14    NA G3          NA      NA     1127
##  4    NA        4 Març. 14     4    14    NA B5          NA      NA     1792
##  5    NA        5 Març. 14     4    14    NA B6          NA      NA     1418
##  6    NA        6 Març. 14     3    14    NA L1          NA      NA     1964
##  7    NA        7 Març. 14     4    14    NA G4          NA      NA     2283
##  8    NA        8 Març. 14     4    14    NA B3          NA      NA     1322
##  9    NA        9 Març. 14     3    14    NA B2          NA      NA     1778
## 10    NA       10 Març. 14     3    14    NA T4          NA      NA     1119
## # ℹ 1,990 more rows
## # ℹ 465 more variables: num_quest &lt;dbl&gt;, sexe_enq &lt;fct&gt;, edat_enq &lt;dbl&gt;,
## #   estudis_enq &lt;fct&gt;, nacionalitat_enq &lt;fct&gt;, PROVI &lt;fct&gt;, HABITAT &lt;fct&gt;,
## #   MUN &lt;fct&gt;, ADRECA &lt;chr&gt;, COMARCA &lt;fct&gt;, SEXE &lt;fct&gt;, EDAT &lt;dbl&gt;, SE &lt;chr&gt;,
## #   GR_EDAT &lt;fct&gt;, Edat_CEO &lt;fct&gt;, F01 &lt;fct&gt;, F02 &lt;fct&gt;, F03 &lt;fct&gt;, F04 &lt;fct&gt;,
## #   PRE_P1 &lt;fct&gt;, P1_LITERALS &lt;chr&gt;, P1_100_R &lt;dbl&gt;, P1_200_R &lt;dbl&gt;,
## #   P1_300_R &lt;dbl&gt;, P1_400_R &lt;dbl&gt;, P1_500_R &lt;dbl&gt;, P1_600_R &lt;dbl&gt;, …</code></pre>
<p>Not all studies carried on by the CEO (and therefore listed in the
<code>CEOmeta()</code> function –see below–) have microdata available.
For convenience, there is a variable in the metadata that returns
whether the microdata is available or not
(<code>microdata_available</code>).</p>
<p>When using the <code>kind</code> argument (which is the default), the
function <code>CEOdata()</code> also allows to restrict the whole set of
barometers based on specific time frames defined by a date with the
arguments <code>date_start</code> and <code>date_end</code> using the
YYYY-MM-DD format. Notice that only the barometers are considered when
using this arguments, not other studies.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>b2019 <span class="ot">&lt;-</span> <span class="fu">CEOdata</span>(<span class="at">date_start =</span> <span class="st">&quot;2019-01-01&quot;</span>, <span class="at">date_end =</span> <span class="st">&quot;2019-12-31&quot;</span>)</span></code></pre></div>
<pre><code>## Downloading the barometer.</code></pre>
<pre><code>## Converting the original data into R. This may take a while.</code></pre>
<pre><code>## Post-processing the data. This may take a while.</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>b2019</span></code></pre></div>
<pre><code>## # A tibble: 4,500 × 1,231
##    PONDERA ORDRECINE ORDRE_REVISADA   REO METODOLOGIA BOP_NUM    ANY   MES   DIA
##      &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1       1     23339             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  2       1     23340             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  3       1     23341             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  4       1     23342             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  5       1     23343             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  6       1     23344             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  7       1     23345             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  8       1     23346             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
##  9       1     23347             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
## 10       1     23348             NA   919 &lt;NA&gt;        Març 19…  2019     3     4
## # ℹ 4,490 more rows
## # ℹ 1,222 more variables: HORA_INI &lt;time&gt;, HORA_FIN &lt;time&gt;, DATA_INI &lt;date&gt;,
## #   DATA_FIN &lt;date&gt;, DURADA &lt;dbl&gt;, FASE &lt;fct&gt;, ENQUESTADOR_CODI &lt;dbl&gt;,
## #   ENQUESTADOR_SEXE &lt;fct&gt;, ENQUESTADOR_EDAT &lt;dbl&gt;, ENQUESTADOR_ESTUDIS &lt;fct&gt;,
## #   ENQUESTADOR_NACIONALITAT &lt;fct&gt;, NUM_QUEST_CAMP &lt;dbl&gt;, PROVINCIA &lt;fct&gt;,
## #   HABITAT &lt;fct&gt;, MUNICIPI &lt;fct&gt;, COMARCA &lt;fct&gt;, CLUSTER_21 &lt;dbl&gt;,
## #   ID_RUTA &lt;dbl&gt;, SECCIO_TEORICA &lt;dbl&gt;, CONF_SECC &lt;fct&gt;, SECCIO_REAL &lt;dbl&gt;, …</code></pre>
</div>
<div id="extra-variables" class="section level2">
<h2>Extra variables</h2>
<p>By default <code>CEOdata()</code> incorporates new variables to the
original matrix. Variables that are created for convenience, such as the
date of the survey. The CEO data not always provides a day of the month.
In that case, 28 is used. These variables appear at the end of the
dataset and can be distinguished from the original CEO variables because
only the first letter is capitalized.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">names</span>(d))</span></code></pre></div>
<pre><code>## [1] &quot;CIRCUIT_1050_4&quot; &quot;CIRCUIT_1050_5&quot; &quot;CIRCUIT_1061_1&quot; &quot;CIRCUIT_1061_2&quot;
## [5] &quot;CIRCUIT_1061_3&quot; &quot;Data&quot;</code></pre>
<p>In case of desiring all variable names to be lowercase, one can
simply convert them with <code>tolower()</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>d.lowercase <span class="ot">&lt;-</span> d</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">names</span>(d.lowercase) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(d.lowercase))</span></code></pre></div>
</div>
</div>
<div id="ceometa-access-to-the-metadata-of-studies-and-surveys" class="section level1">
<h1><code>CEOmeta()</code>: Access to the metadata of studies and
surveys</h1>
<p>The function <code>CEOmeta</code> allows to easily retrieve, search
and restrict by time the list of all the surveys produced by the CEO,
which amounts to more than a thousand as of early 2022.</p>
<p>When called alone, the function downloads the latest version of the
metadata published by the center, in a transparent way, and caching its
content so that any subsequent calls in the same <code>R</code> session
do not need to download it again.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">CEOmeta</span>()</span></code></pre></div>
<pre><code>## # A tibble: 1,201 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 1051  Índex de Satisfacció del Client … Índex de Sati… quantitativa          
##  2 1050  Baròmetre d&#39;Opinió Política (BOP… Baròmetre d&#39;O… quantitativa          
##  3 1049  Enquesta sobre les prioritats en… Enquesta sobr… quantitativa          
##  4 1048  Enquesta sociopolítica. 2022      Enquesta soci… quantitativa          
##  5 1047  Enquesta sobre la percepció de l… Enquesta sobr… quantitativa          
##  6 1046  Enquesta de satisfacció dels usu… Enquesta de s… quantitativa          
##  7 1045  Avaluació del servei d&#39;atenció c… Avaluació del… quantitativa          
##  8 1044  Enquesta de valoració del Govern… Enquesta de v… quantitativa          
##  9 1043  La corrupció a Catalunya: percep… La corrupció … quantitativa          
## 10 1042  La corrupció a Catalunya: percep… La corrupció … quantitativa          
## # ℹ 1,191 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
<div id="get-a-specific-study" class="section level2">
<h2>Get a specific study</h2>
<p>In order to get the metadata of a specific study, the
<code>reo</code> argument can be used:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">reo =</span> <span class="st">&quot;746&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 28
##   REO   `Titol enquesta`                   `Titol estudi` `Metodologia enquesta`
##   &lt;fct&gt; &lt;chr&gt;                              &lt;chr&gt;          &lt;fct&gt;                 
## 1 746   Baròmetre d&#39;Opinió Política (BOP)… Baròmetre d&#39;O… quantitativa          
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;,
## #   `Mostra estudis qualitatius` &lt;chr&gt;, `Error mostral` &lt;chr&gt;, …</code></pre>
</div>
<div id="search-for-specific-topics-though-keywords" class="section level2">
<h2>Search for specific topics though keywords</h2>
<p>The first relevant argument for <code>CEOmeta()</code> is
<code>search</code>, which is a built-in simple search engine that goes
through the columns of the metadata containing potential descriptive
information (title, summary, objectives and tags -descriptors-) and
returns the studies that contain such keyword.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">search =</span> <span class="st">&quot;Medi ambient&quot;</span>)</span></code></pre></div>
<pre><code>## Looking for entries with: medi ambient</code></pre>
<pre><code>## # A tibble: 46 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 1017  Seguiment d&#39;indicadors de percep… Seguiment d&#39;i… quantitativa          
##  2 1010  Enquesta metodològica i d&#39;actitu… Enquesta meto… quantitativa          
##  3 1006  Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  4 973   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  5 941   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  6 876   Baròmetre de la bicicleta 2017    Baròmetre de … quantitativa          
##  7 875   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  8 865   Seguiment d&#39;indicadors de percep… Seguiment d&#39;i… quantitativa          
##  9 819   Baròmetre 2015 de percepció i co… Baròmetre 201… quantitativa          
## 10 807   Seguiment d&#39;Indicadors de Sosten… Seguiment d&#39;i… quantitativa          
## # ℹ 36 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
<p>It is also possible to pass more than one value to
<code>search</code>, so that the search includes them (either one of
them OR any other).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">search =</span> <span class="fu">c</span>(<span class="st">&quot;Medi ambient&quot;</span>, <span class="st">&quot;Municipi&quot;</span>))</span></code></pre></div>
<pre><code>## Looking for entries with: medi ambient OR municipi</code></pre>
<pre><code>## # A tibble: 50 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 1017  Seguiment d&#39;indicadors de percep… Seguiment d&#39;i… quantitativa          
##  2 1010  Enquesta metodològica i d&#39;actitu… Enquesta meto… quantitativa          
##  3 1006  Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  4 973   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  5 941   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  6 876   Baròmetre de la bicicleta 2017    Baròmetre de … quantitativa          
##  7 875   Seguiment d&#39;indicadors de sosten… Seguiment d&#39;i… quantitativa          
##  8 865   Seguiment d&#39;indicadors de percep… Seguiment d&#39;i… quantitativa          
##  9 819   Baròmetre 2015 de percepció i co… Baròmetre 201… quantitativa          
## 10 807   Seguiment d&#39;Indicadors de Sosten… Seguiment d&#39;i… quantitativa          
## # ℹ 40 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
<p>In addition to the built-in argument to search through the columns of
the survey title, the study title, the objectives, the summary and the
tags (descriptors), it is possible to combine <code>CEOmeta()</code>
with <code>dplyr</code>’s <code>filter()</code> to limit the results of
studies returned.</p>
<p>For example, to get the studies that have been performed using
Internet to get the data:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">CEOmeta</span>() <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Metode de recollida de dades</span><span class="st">`</span> <span class="sc">==</span> <span class="st">&quot;internet&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 49 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 1049  Enquesta sobre les prioritats en… Enquesta sobr… quantitativa          
##  2 1047  Enquesta sobre la percepció de l… Enquesta sobr… quantitativa          
##  3 1041  Enquesta sobre ètica a l&#39;Adminis… Enquesta sobr… quantitativa          
##  4 1020  Polarització i convivència a Esp… Polarització … quantitativa          
##  5 1018  Enquesta de Satisfacció dels Ser… Enquesta de S… quantitativa          
##  6 1016  Enquesta a ens locals sobre polí… Enquesta a en… quantitativa          
##  7 1010  Enquesta metodològica i d&#39;actitu… Enquesta meto… quantitativa          
##  8 1000  Enquesta panel sobre valors i CO… Enquesta pane… quantitativa          
##  9 995   Enquesta de satisfacció dels ser… Enquesta de s… quantitativa          
## 10 993   Enquesta de satisfacció dels ser… Enquesta de s… quantitativa          
## # ℹ 39 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
<p>Or to get studies with a specific quantitative sample size limit:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="fu">CEOmeta</span>() <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Mostra estudis quantitatius</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="dv">500</span>)</span></code></pre></div>
<pre><code>## # A tibble: 170 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 990   IPLAENSA Opinió i satisfacció de… IPLAENSA Opin… quantitativa          
##  2 989   Enquesta de satisfacció de l&#39;usu… Enquesta de s… quantitativa          
##  3 984   iPLAENSA Satisfacció dels assegu… iPLAENSA Sati… quantitativa          
##  4 983   iPLAENSA: Satisfacció dels asseg… iPLAENSA: Sat… quantitativa          
##  5 964   Enquesta satisfacció familiars r… Enquesta sati… quantitativa          
##  6 963   Enquesta satisfacció familiars c… Enquesta sati… quantitativa          
##  7 957   Avaluació del grau de satisfacci… Avaluació del… quantitativa          
##  8 950   Enquesta de satisfacció hospital… Enquesta de s… quantitativa          
##  9 933   iPLAENSA: Enquesta d&#39;opinió i sa… iPLAENSA: Enq… quantitativa          
## 10 930   iPLAENSA: Satisfacció dels asseg… iPLAENSA: Sat… quantitativa          
## # ℹ 160 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
</div>
<div id="restrict-by-time" class="section level2">
<h2>Restrict by time</h2>
<p>Metadata can be retrieved for a specific period of time, by using the
arguments <code>date_start</code> and <code>date_end</code>, also using
the YYYY-MM-DD format. In this case the dates that are taken into
account are dates where the study gets into the records, not the
fieldwork dates.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">date_start =</span> <span class="st">&quot;2019-01-01&quot;</span>, <span class="at">date_end =</span> <span class="st">&quot;2019-12-31&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 45 × 28
##    REO   `Titol enquesta`                  `Titol estudi` `Metodologia enquesta`
##    &lt;fct&gt; &lt;chr&gt;                             &lt;chr&gt;          &lt;fct&gt;                 
##  1 954   Baròmetre d&#39;Opinió Política. 3a … Baròmetre d&#39;O… quantitativa          
##  2 953   Enquesta de satisfacció dels ser… Enquesta de s… quantitativa          
##  3 952   Percepció sobre el debat territo… Percepció sob… quantitativa          
##  4 951   Cosmopolitisme i localisme a Cat… Cosmopolitism… quantitativa          
##  5 950   Enquesta de satisfacció hospital… Enquesta de s… quantitativa          
##  6 949   Enquesta sobre civisme i valors … Enquesta sobr… quantitativa          
##  7 948   Enquesta sobre el debat de polít… Enquesta sobr… quantitativa          
##  8 947   Baròmetre sanitari de Catalunya.… Baròmetre san… quantitativa          
##  9 946   Òmnibus de la Generalitat de Cat… Òmnibus de la… quantitativa          
## 10 945   Baròmetre de satisfacció dels tu… Baròmetre de … quantitativa          
## # ℹ 35 more rows
## # ℹ 24 more variables: `Metode de recollida de dades` &lt;fct&gt;, Objectius &lt;chr&gt;,
## #   `Ambit territorial` &lt;fct&gt;, Cost &lt;dbl&gt;, `Promotors enquesta` &lt;chr&gt;,
## #   `Executors enquesta` &lt;chr&gt;, `Promotors estudi` &lt;chr&gt;,
## #   `Executors estudi` &lt;chr&gt;, `Data de treball de camp` &lt;chr&gt;,
## #   `Dia inici treball de camp` &lt;date&gt;, `Dia final treball de camp` &lt;date&gt;,
## #   Univers &lt;chr&gt;, Mostra &lt;chr&gt;, `Mostra estudis quantitatius` &lt;dbl&gt;, …</code></pre>
</div>
<div id="browse-the-ceo-site" class="section level2">
<h2>Browse the CEO site</h2>
<p>In addition, to the search engine and the restriction by time
<code>CEOmeta()</code> also allows to automatically open the relevant
URLs at the CEO domain that contain the details of the studies gathered
with the function. This can be done setting the <code>browse</code>
argument to <code>TRUE</code>. However, there is a soft limitation of
only 10 URLs to be opened, unless the user forces to really open all of
them (proceed with caution, as this may open many tabs in your browser
and leave your computer out of RAM in some scenarios of RAM black holes,
such as Chrome).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">search =</span> <span class="st">&quot;Medi ambient a&quot;</span>, <span class="at">browse =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>To open a specific REO, a simpler call with its specific identifier
can be used:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">reo =</span> <span class="st">&quot;746&quot;</span>, <span class="at">browse =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>It is also possible to specify an alternative language, so the
default Catalan pages are substituted by the automatic translations
provided by Apertium (for Occitan/Aranese) or Google Translate.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="fu">CEOmeta</span>(<span class="at">search =</span> <span class="st">&quot;Medi ambient a&quot;</span>, <span class="at">browse =</span> <span class="cn">TRUE</span>, <span class="at">browse_translate =</span> <span class="st">&quot;de&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="ceosearch-access-to-the-variable-and-value-labels" class="section level1">
<h1><code>CEOsearch()</code>: Access to the variable and value
labels</h1>
<p>Contrary to <code>CEOdata()</code> and <code>CEOmeta()</code>,
<code>CEOsearch()</code> needs at least one argument: the survey data
(microdata) for which we want to extract the variable labels and the
value labels. By default it provides the variable labels in a tidy
object:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="fu">CEOsearch</span>(d)  <span class="co"># equivalent to CEOsearch(d, where = &quot;variables&quot;)</span></span></code></pre></div>
<pre><code>## # A tibble: 1,231 × 2
##    Variable       Label                                                      
##    &lt;chr&gt;          &lt;chr&gt;                                                      
##  1 PONDERA        Coeficients de ponderació                                  
##  2 ORDRECINE      Número d&#39;ordre de registre cine                            
##  3 ORDRE_REVISADA Número d&#39;ordre de registre original (variable anonimitzada)
##  4 REO            Número de registre                                         
##  5 METODOLOGIA    Metodologia d&#39;enquestació                                  
##  6 BOP_NUM        Número d&#39;ordre del baròmetre                               
##  7 ANY            Any de realització del baròmetre                           
##  8 MES            Mes de realització del baròmetre                           
##  9 DIA            Dia                                                        
## 10 HORA_INI       Hora d&#39;inici de l&#39;entrevista (variable anonimitzada)       
## # ℹ 1,221 more rows</code></pre>
<p>Equivalently, the use of <code>where = &quot;values&quot;</code> provides with
a tidy object containing the value labels. Notice that in this case the
variable names are repeated to accommodate each of the different value
labels.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="fu">CEOsearch</span>(d, <span class="at">where =</span> <span class="st">&quot;values&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16,354 × 2
##    Variable    Value        
##    &lt;fct&gt;       &lt;fct&gt;        
##  1 METODOLOGIA Presencial   
##  2 METODOLOGIA Telefònica   
##  3 METODOLOGIA En línia     
##  4 BOP_NUM     Març 14 - 746
##  5 BOP_NUM     Oct. 14 -758 
##  6 BOP_NUM     Feb 15 -774  
##  7 BOP_NUM     Juny 15 -795 
##  8 BOP_NUM     Oct. 15 -804 
##  9 BOP_NUM     Feb. 16 -816 
## 10 BOP_NUM     Juny 16 -826 
## # ℹ 16,344 more rows</code></pre>
<p>Just like with the <code>CEOmeta()</code>, <code>CEOsearch()</code>
has a simple built-in search facility that allows to retrieve only the
rows that match a specific keyword(s). In the following example, we
restrict the variables to those that contain “edat” (age).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="fu">CEOsearch</span>(d, <span class="at">keyword =</span> <span class="st">&quot;edat&quot;</span>)</span></code></pre></div>
<pre><code>## Looking for entries with: edat</code></pre>
<pre><code>## # A tibble: 18 × 2
##    Variable                        Label                                        
##    &lt;chr&gt;                           &lt;chr&gt;                                        
##  1 ENQUESTADOR_EDAT                Edat de entrevistador/a                      
##  2 EDAT                            Edat                                         
##  3 EDAT_GR                         Grups d&#39;edat                                 
##  4 EDAT_CEO                        Grups d&#39;edat reagrupada (recodificació grups…
##  5 INF_POL_OBJ_RANG_ESCOLARITZACIO De quina edat a quina edat és obligatori l’e…
##  6 INF_POL_OBJ_INI_ESCOLARITZACIO  De quina edat a quina edat és obligatori l’e…
##  7 INF_POL_OBJ_FI_ESCOLARITZACIO   De quina edat a quina edat és obligatori l’e…
##  8 CRISI_ATUR_FAMILIAR             En els últims dos anys, com a conseqüència d…
##  9 EDAT_1                          EDAT_1 (variable anonimitzada)               
## 10 EDAT_2                          EDAT_2 (variable anonimitzada)               
## 11 EDAT_3                          EDAT_3 (variable anonimitzada)               
## 12 EDAT_4                          EDAT_4 (variable anonimitzada)               
## 13 EDAT_5                          EDAT_5 (variable anonimitzada)               
## 14 EDAT_6                          EDAT_6 (variable anonimitzada)               
## 15 EDAT_7                          EDAT_7 (variable anonimitzada)               
## 16 EDAT_8                          EDAT_8 (variable anonimitzada)               
## 17 EDAT_9                          EDAT_9 (variable anonimitzada)               
## 18 EDAT_10                         EDAT_10 (variable anonimitzada)</code></pre>
<p>Finally, an English translation of the variable labels/values is
provided if the argument <code>translate</code> is set to
<code>TRUE</code>, by opening a browser tab with the translations.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="fu">CEOsearch</span>(d, <span class="at">keyword =</span> <span class="st">&quot;edat&quot;</span>, <span class="at">translate =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Looking for entries with: edat</code></pre>
<pre><code>## # A tibble: 18 × 2
##    Variable                        Label                                        
##    &lt;chr&gt;                           &lt;chr&gt;                                        
##  1 ENQUESTADOR_EDAT                Edat de entrevistador/a                      
##  2 EDAT                            Edat                                         
##  3 EDAT_GR                         Grups d&#39;edat                                 
##  4 EDAT_CEO                        Grups d&#39;edat reagrupada (recodificació grups…
##  5 INF_POL_OBJ_RANG_ESCOLARITZACIO De quina edat a quina edat és obligatori l’e…
##  6 INF_POL_OBJ_INI_ESCOLARITZACIO  De quina edat a quina edat és obligatori l’e…
##  7 INF_POL_OBJ_FI_ESCOLARITZACIO   De quina edat a quina edat és obligatori l’e…
##  8 CRISI_ATUR_FAMILIAR             En els últims dos anys, com a conseqüència d…
##  9 EDAT_1                          EDAT_1 (variable anonimitzada)               
## 10 EDAT_2                          EDAT_2 (variable anonimitzada)               
## 11 EDAT_3                          EDAT_3 (variable anonimitzada)               
## 12 EDAT_4                          EDAT_4 (variable anonimitzada)               
## 13 EDAT_5                          EDAT_5 (variable anonimitzada)               
## 14 EDAT_6                          EDAT_6 (variable anonimitzada)               
## 15 EDAT_7                          EDAT_7 (variable anonimitzada)               
## 16 EDAT_8                          EDAT_8 (variable anonimitzada)               
## 17 EDAT_9                          EDAT_9 (variable anonimitzada)               
## 18 EDAT_10                         EDAT_10 (variable anonimitzada)</code></pre>
<p>Of course, variable labels and values can be merged into a single
object using a combination of <code>join</code> and
<code>CEOsearch()</code>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="fu">CEOsearch</span>(d) <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">CEOsearch</span>(d, <span class="at">where =</span> <span class="st">&quot;values&quot;</span>))</span></code></pre></div>
<pre><code>## Joining with `by = join_by(Variable)`</code></pre>
<pre><code>## # A tibble: 16,462 × 3
##    Variable       Label                                                    Value
##    &lt;chr&gt;          &lt;chr&gt;                                                    &lt;fct&gt;
##  1 PONDERA        Coeficients de ponderació                                &lt;NA&gt; 
##  2 ORDRECINE      Número d&#39;ordre de registre cine                          &lt;NA&gt; 
##  3 ORDRE_REVISADA Número d&#39;ordre de registre original (variable anonimitz… &lt;NA&gt; 
##  4 REO            Número de registre                                       &lt;NA&gt; 
##  5 METODOLOGIA    Metodologia d&#39;enquestació                                Pres…
##  6 METODOLOGIA    Metodologia d&#39;enquestació                                Tele…
##  7 METODOLOGIA    Metodologia d&#39;enquestació                                En l…
##  8 BOP_NUM        Número d&#39;ordre del baròmetre                             Març…
##  9 BOP_NUM        Número d&#39;ordre del baròmetre                             Oct.…
## 10 BOP_NUM        Número d&#39;ordre del baròmetre                             Feb …
## # ℹ 16,452 more rows</code></pre>
</div>
<div id="development-and-acknowledgement" class="section level1">
<h1>Development and acknowledgement</h1>
<p>The development of <code>CEOdata</code> (track changes, propose
improvements, report bugs) can be followed at <a href="https://github.com/ceopinio/CEOdata/">github</a>.</p>
<p>If using the data and the package, please cite and acknowledge
properly the CEO and the package, respectively.</p>
<!-- # References -->
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
